<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/productLayout}">

<div class="container" layout:fragment="content">
    <script src="https://kit.fontawesome.com/f98645e8a0.js" crossorigin="anonymous"></script>


    <script>
        //κ²€μƒ‰(formμ„ Getμ „μ†΅)
        function submitForm() {

            const min = parseInt(document.getElementById('min').value);
            const max = parseInt(document.getElementById('max').value);

            if (min > max) {
                alert("μµμ†κ°’κ³Ό μµλ€κ°’μ„ μ •ν™•ν μ…λ ¥ν•΄μ£Όμ„Έμ”");
                return false;
            }

            document.getElementById("searchForm").submit();
            return true;
        }

    </script>

    <main id="product">
        <aside>
            <!-- μΉ΄ν…κ³ λ¦¬ -->
            <ul class="category">
                <li><i class="fa fa-bars" aria-hidden="true"></i>μΉ΄ν…κ³ λ¦¬</li>
                <li>
                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…')}"><i class="fas fa-tshirt"></i>μλ¥/ν¨μ…<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='λ‚¨μ„±μλ¥')}">λ‚¨μ„±μλ¥</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='λ‚¨μ„±μλ¥' , cateName3='μƒμ')}">μƒμ</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='λ‚¨μ„±μλ¥' , cateName3='ν•μ')}">ν•μ</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='λ‚¨μ„±μλ¥' , cateName3='μ΅ν™”(κ°€λ°©,μ§€κ°‘,λ²¨νΈ)')}">μ΅ν™”(κ°€λ°©,μ§€κ°‘,λ²¨νΈ)</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='λ‚¨μ„±μλ¥' , cateName3='μ‹ λ°')}">μ‹ λ°</a>
                            </ol>
                        </li>
                        <li><a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='μ—¬μ„±μλ¥')}">μ—¬μ„±μλ¥</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='μ—¬μ„±μλ¥' , cateName3= 'μƒμ')}">μƒμ</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='μ—¬μ„±μλ¥' , cateName3= 'ν•μ')}">ν•μ</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='μ—¬μ„±μλ¥' , cateName3= 'μ΅ν™”(κ°€λ°©,μ§€κ°‘,λ²¨νΈ)')}">μ΅ν™”(κ°€λ°©,μ§€κ°‘,λ²¨νΈ)</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μλ¥/ν¨μ…' , cateName2='μ—¬μ„±μλ¥' , cateName3= 'μ‹ λ°')}">μ‹ λ°</a>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>
                    <a th:href="@{/product/list(cateName1='κ°€μ „')}"><i class="fas fa-laptop"></i>κ°€μ „<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='μƒν™κ°€μ „')}">μƒν™κ°€μ „</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='μƒν™κ°€μ „' ,cateName3='μ„ΈνƒκΈ°/μ„ΈνƒκΈ°μ©ν’')}">μ„ΈνƒκΈ°/μ„ΈνƒκΈ°μ©ν’</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='μƒν™κ°€μ „' ,cateName3='μ²­μ†κΈ°')}">μ²­μ†κΈ°</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='μƒν™κ°€μ „' ,cateName3='μ—μ–΄μ»¨')}">μ—μ–΄μ»¨</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='μƒν™κ°€μ „' ,cateName3='λƒ‰μ¥κ³ ')}">λƒ‰μ¥κ³ </a>
                            </ol>
                        </li>
                        <li><a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='TV/μμƒκ°€μ „')}">TV/μμƒκ°€μ „</a>
                            <ol>
                                <li><a th:href="@{/product/list(cateName1='κ°€μ „', cateName2='TV/μμƒκ°€μ „', cateName3='TV')}">TV</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='κ°€μ „',cateName2='TV/μμƒκ°€μ „', cateName3='μμƒν”λ μ΄μ–΄')}">μμƒν”λ μ΄μ–΄</a>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>
                    <a th:href="@{/product/list(cateName1='μ‹ν’')}"><i class="fas fa-utensils"></i>μ‹ν’<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='λ†/μ¶•μ‚°λ¬Ό')}">λ†/μ¶•μ‚°λ¬Ό</a>

                            <ol>
                                <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='λ†/μ¶•μ‚°λ¬Ό', cateName3='μ •μ΅/κ³„λ€')}">μ •μ΅/κ³„λ€</a>
                                <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='λ†/μ¶•μ‚°λ¬Ό', cateName3='μ •μ΅/κ³„λ€')}">μ€/μ΅κ³΅/κ²¬κ³Ό</a>
                                <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='λ†/μ¶•μ‚°λ¬Ό', cateName3='μ •μ΅/κ³„λ€')}">κ³ΌμΌ</a>
                                <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='λ†/μ¶•μ‚°λ¬Ό', cateName3='μ •μ΅/κ³„λ€')}">μ±„μ†</a>
                            </ol>

                        </li>
                        <li><a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='μμ‚°/κ±΄μ–΄λ¬Ό')}">μμ‚°/κ±΄μ–΄λ¬Ό</a>

                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='μμ‚°/κ±΄μ–΄λ¬Ό', cateName3='μƒμ„ ')}">μƒμ„ </a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='μμ‚°/κ±΄μ–΄λ¬Ό', cateName3='κΉ€/ν•΄μ΅°λ¥')}">κΉ€/ν•΄μ΅°λ¥</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='μμ‚°/κ±΄μ–΄λ¬Ό', cateName3='μ „λ³µ/κµ΄/μ΅°κ°λ¥')}">μ „λ³µ/κµ΄/μ΅°κ°λ¥</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='μ‹ν’', cateName2='μμ‚°/κ±΄μ–΄λ¬Ό', cateName3='μ¤μ§•μ–΄/λ‚™μ§€/μ­κΎΈλ―Έ')}">μ¤μ§•μ–΄/λ‚™μ§€/μ­κΎΈλ―Έ</a>
                            </ol>
                        </li>
                    </ol>
                <li>


                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό')}"><i class="fas fa-home"></i>λ°λ ¤λ™λ¬Ό<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li>
                            <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ°•μ•„μ§€')}">κ°•μ•„μ§€</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ°•μ•„μ§€', cateName3='μ‚¬λ£/μμ–‘μ ')}">μ‚¬λ£/μμ–‘μ </a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ°•μ•„μ§€', cateName3='κ°„μ‹')}">κ°„μ‹</a>
                                </li>
                                <li><a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ°•μ•„μ§€', cateName3='λ°°λ³€μ©ν’')}">λ°°λ³€μ©ν’</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ°•μ•„μ§€', cateName3='μ¥λ‚κ°/ν›λ ¨μ©ν’')}">μ¥λ‚κ°/ν›λ ¨μ©ν’</a>
                                </li>
                            </ol>
                        </li>
                        <li>
                            <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ³ μ–‘μ΄')}">κ³ μ–‘μ΄</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ³ μ–‘μ΄', cateName3='μ‚¬λ£/μμ–‘μ ')}">μ‚¬λ£/μμ–‘μ </a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ³ μ–‘μ΄', cateName3='κ°„μ‹')}">κ°„μ‹</a>
                                </li>
                                <li><a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ³ μ–‘μ΄', cateName3='λ°°λ³€μ©ν’')}">λ°°λ³€μ©ν’</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='λ°λ ¤λ™λ¬Ό', cateName2='κ³ μ–‘μ΄', cateName3='μ¥λ‚κ°/ν›λ ¨μ©ν’')}">μ¥λ‚κ°/ν›λ ¨μ©ν’</a>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
            </ul>
        </aside>

        <!-- μƒν’κ²€μƒ‰ ν™”λ©΄ μ‹μ‘ -->
        <section class="search">

            <!-- μ λ©, νμ΄μ§€ λ„¤λΉ„κ²μ΄μ… -->
            <nav>
                <h1>μƒν’ κ²€μƒ‰ κ²°κ³Ό</h1>
                <p>
                    HOME > <span>μƒν’κ²€μƒ‰</span> > <strong>κ²€μƒ‰ν‚¤μ›λ“</strong>
                </p>
            </nav>

            <!-- κ²€μƒ‰κ²°κ³Ό κ·Έλ£Ήλ°•μ¤ -->
            <div class="group">
                <h3><strong th:text="${searchResult.keyword}">μ…”μΈ </strong>κ²€μƒ‰κ²°κ³Ό <em>(μ΄&nbsp;:&nbsp;<span
                        th:text="${searchResult.total}">20</span>&nbsp;κ±΄)</em></h3>

                <form id="searchForm" th:action="@{/product/search}" onsubmit="return submitForm()">
                    <input type="text" name="detail" id="detail" class="detail" th:value="${searchResult.getDetail()}"/>
                    <input type="submit" id="btnSubmit" value="κ²€μƒ‰"/>
                    <input type="hidden" name="keyword" th:value="${searchResult.keyword}"/>
                    <span>
                        <label><input type="checkbox" name="detailCheckbox" id="detailCheckbox" value="μƒν’λ…">μƒν’λ…</label>
                        <label><input type="checkbox" name="etcCheckbox" id="etcCheckbox" value="μƒν’μ„¤λ…">μƒν’μ„¤λ…</label>
                        <label><input type="checkbox" name="priceCheckbox" id="priceCheckbox" value="μƒν’κ°€κ²©">μƒν’κ°€κ²©</label>
                        <input type="text" id="min" name="minPrice" placeholder="μµμ† κ°€κ²©"/>μ›&nbsp;~&nbsp;
                        <input type="text" id="max" name="maxPrice" placeholder="μµλ€ κ°€κ²©"/>μ›
                    </span>
                </form>
                <p class="info">
                    μƒμ„Έκ²€μƒ‰μ„ μ„ νƒν•μ§€ μ•κ±°λ‚, μƒν’κ°€κ²©μ„ μ…λ ¥ν•μ§€ μ•μΌλ©΄ ν„μ¬ κ²°κ³Όλ‚΄μ—μ„ κ²€μƒ‰ν•©λ‹λ‹¤.<br>
                    κ²€μƒ‰μ–΄λ” μµλ€ 10κΈ€μκΉμ§€, μ—¬λ¬κ°μ κ²€μƒ‰μ–΄λ¥Ό κ³µλ°±μΌλ΅ κµ¬λ¶„ν•μ—¬ μ…λ ¥ ν• μ μμµλ‹λ‹¤.
                </p>
            </div>

            <!-- μ •λ ¬ λ©”λ‰΄ -->
            <ul class="sort">
                <li><a th:href="@{/product/search(cate='prodSold', keyword=${session.keyword} , detail=${searchResult.detail}
                 , minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">νλ§¤λ§μ€μ</a>
                </li>
                <li>
                    <a th:href="@{/product/search(cate='lowPrice', keyword=${session.keyword} ,detail=${searchResult.detail}, minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">λ‚®μ€κ°€κ²©μ</a>
                </li>
                <li>
                    <a th:href="@{/product/search(cate='highPrice', keyword=${session.keyword}  ,detail=${searchResult.detail} , minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">λ†’μ€κ°€κ²©μ</a>
                </li>
                <li>
                    <a th:href="@{/product/search(cate='highAvg', keyword=${session.keyword} ,detail=${searchResult.detail} , minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">ν‰μ λ†’μ€μ</a>
                </li>
                <li>
                    <a th:href="@{/product/search(cate='highReview', keyword=${session.keyword} ,detail=${searchResult.detail} , minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">ν›„κΈ°λ§μ€μ</a>
                </li>
                <li>
                    <a th:href="@{/product/search(cate='current', keyword=${session.keyword} , detail=${searchResult.detail} , minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox})}">μµκ·Όλ“±λ΅μ</a>
                </li>
            </ul>

            <!-- κ²€μƒ‰λ©λ΅ -->
            <table border="0">
                <tr th:each="result, index:${searchResult.dtoList}" >
                    <td><a  th:href="@{/product/view(prodno=${result.prodNo})}" class="thumb"><img
                            style="height: 120px"    th:src="@{/uploads/__${result.image1}__}" alt="μƒν’μ΄λ―Έμ§€"/></a></td>
                    <td>
                        <h3 class="name" th:text="${result.prodName}">μƒν’λ…</h3>
                        <a th:href="@{/product/view(prodno=${result.prodNo})}" class="desc" th:text="${result.etc}">μƒν’
                            μ„¤λ…</a>
                    </td>
                    <td>
                        <ul>
                            <li>
                                <ins class="dis-price"
                                     th:text="${ #numbers.formatInteger(#numbers.formatDecimal(result.prodPrice * (100 - result.prodDiscount) * 0.01 , 1, 0) , 1 ,'COMMA') }">
                                    27,000
                                </ins>
                            </li>
                            <li>
                                <del th:if="${result.prodDiscount>0}" class="org-price" th:text="${result.prodPrice}">
                                    30,000
                                </del>
                                <span th:if="${result.prodDiscount>0}" class="discount"
                                      th:text="${result.prodDiscount}">10%</span>
                            </li>
                            <li><span th:if="${result.delivery ==0}" class="free-delivery">λ¬΄λ£λ°°μ†΅</span></li>
                            <li><span th:if="${result.delivery !=0}"><i class="fa fa-truck"></i>  [[${result.delivery}]]</span></span>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <h4 class="seller"><i class="fas fa-home" th:text="${result.sellerName}"></i>&nbsp;</h4>
                        <div th:switch="${result.seller.grade}" style="display: inline-block">

                            <div th:case="λ² μ¤νΈλ”λ¬">
                                <span>π‘‘</span>
                            </div>
                            <div th:case="*">
                                <span>π±</span>
                            </div>
                        </div>
                        <h5 th:text="${result.seller.grade}" style="display: inline-block"></h5>
                        <div style="clear: both; padding-top: 10px;">
                            <span th:each="starIndex : ${#numbers.sequence(1, result.avg)}"
                                  th:if="${result.reviews.size()}>0"
                                  style="padding-bottom: 10px">
                                          <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                               class="bi bi-star-fill" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>
                            </span>
                        </div>
                    </td>
                </tr>

            </table>

            <!-- μƒν’λ©λ΅ νμ΄μ§€λ²νΈ -->
            <div class="paging">
                        <span class="prev" th:if="${searchResult.prev}">
                            <a th:href="@{/product/search(pg=${searchResult.start -1}, keyword =${searchResult.getKeyword()},detail=${searchResult.getDetail()},minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox},cate=${searchResult.cate} )}"><&nbsp;μ΄μ „</a>
                        </span>
                <span class="num" th:each="num:${#numbers.sequence(searchResult.start, searchResult.end)}">
                            <th:block th:if="${num == searchResult.pg}">
                                 <a th:href="@{/product/search( pg=${num}
                               , keyword =${searchResult.getKeyword()},detail=${searchResult.getDetail()},minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox},cate=${searchResult.cate} )}"
                                    class="on">[[${num}]]</a>
                            </th:block>

                            <th:block th:if="${num != searchResult.pg}">
                                 <a th:href="@{/product/search( pg=${num} , keyword =${searchResult.getKeyword()}, detail=${searchResult.getDetail()},minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox},cate=${searchResult.cate} )}">[[${num}]]</a>
                            </th:block>
                        </span>
                <span class="next" th:if="${searchResult.next}">
                            <a th:href="@{/product/search( pg=${searchResult.end+1} , keyword =${searchResult.getKeyword()},detail=${searchResult.getDetail()},minPrice=${searchResult.minPrice} , maxPrice=${searchResult.maxPrice}, detailCheckbox=${searchResult.detailCheckbox}, etcCheckbox=${searchResult.etcCheckbox}, priceCheckbox=${searchResult.priceCheckbox},cate=${searchResult.cate} )}">λ‹¤μ&nbsp;></a>
                        </span>
            </div>
        </section>
        <!-- μƒν’κ²€μƒ‰ ν™”λ©΄ λ -->
    </main>
</div>
</html>
