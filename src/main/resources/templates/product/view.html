<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/productLayout}">

<div class="container" layout:fragment="content">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src="https://kit.fontawesome.com/f98645e8a0.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <style>
        #like {
            background-color: white;
            border: none;
        }

        #unlike {
            background-color: white;
            border: none;
        }

        #color {
            width: 100%;
            height: 50px;
        }

        #size {
            width: 100%;
            height: 50px;
        }

        /* ë°°ê²½ìƒ‰ ë° íŒ¨ë”© ë“±ì˜ ìŠ¤íƒ€ì¼ë§ */
        .prodReviewBox {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .prodReviewHeader {
            margin-bottom: 20px;
        }

        .head {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .starRating img {
            width: 20px;
            height: auto;
        }

        .prodReview {
            border-bottom: 1px solid #ccc;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .prodReview p {
            margin-bottom: 10px;
        }


        /*ë¦¬ë·° ë‚´ìš©ê³¼ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ë§*/

        .reviewContent {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .reviewContent p {
            margin-right: 10px; /* ê° ìš”ì†Œ ì‚¬ì´ì˜ ê°„ê²©ì„ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. */
        }

        .reviewContent img {
            width: 120px;
            height: 120px;
        }

        /* ë³„ì  ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ë§ */
        .prodReviewHeader img {
            max-width: 80px;
            height: auto;
            margin-right: 5px; /* ë³„ì  ì´ë¯¸ì§€ ê°„ê²© ì¡°ì • */
        }

        .page {
            margin-top: 20px;
        }

        .page ul {
            list-style: none;
            padding: 0;
        }

        .page li {
            display: inline-block;
            margin-right: 10px;
        }

        .page li:last-child {
            margin-right: 0;
        }


        .pagination-link {
            display: inline-block;
            padding: 8px 12px;
            background-color: #f5f5f5;
            color: #333;
            border: 1px solid #ccc;
            border-radius: 4px;
            text-decoration: none;
            margin-right: 5px;
        }

        .pagination-link:hover {
            background-color: #e0e0e0;
        }

        .detail {
            border-top: 1px solid #000000; /* êµ¬ë¶„ ì„  ìŠ¤íƒ€ì¼ ë° ìƒ‰ìƒ ì§€ì • */
            padding-bottom: 20px; /* ë¦¬ë·° ì‚¬ì´ì˜ ê°„ê²© ì¡°ì • */
            margin-bottom: 20px;;
        }

        .count {
            display: flex;
            justify-content: space-between; /* ìš”ì†Œë“¤ì„ ë™ì¼í•œ ê°„ê²©ìœ¼ë¡œ ë¶„ì‚° ì •ë ¬ */
            align-items: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
        }

        .selectDelete {
            margin-left: auto;
        }

        .quantity-container {
            display: flex;
            align-items: center;
        }

        .quantity-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 5px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 5px;
        }

        .quantity-container input[type="number"] {
            width: 30px;
            text-align: center;
            border: none;
        }

        .quantity-container input[type="text"] {
            width: 10px;
            flex-grow: 1;
            border: none;
            text-align: center;
        }

        .quantity-container button {
            background-color: #d2d2d2;
            color: white;
            border: none;
            cursor: pointer;
            padding: 4px 8px;
            text-decoration: none;
            margin-left: 5px;
            border-radius: 4px;
        }

        .quantity-container button:hover {
            background-color: #606060;
        }


        /*ë„¤ë¹„ê²Œì´ì…˜*/
        .detail nav div:hover {
            background-color: #333; /* ì§„í•œ ë°°ê²½ìƒ‰ */
        }

        .detail nav a:hover {
            color: white; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³€ê²½ */
        }
        #prodReviewBox .viewR-num{
            float: right;
        }


    </style>

    <main id="product">
        <aside>
            <!-- ì¹´í…Œê³ ë¦¬ -->
            <ul class="category">
                <li><i class="fa fa-bars" aria-hidden="true"></i>ì¹´í…Œê³ ë¦¬</li>
                <li>
                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜')}"><i class="fas fa-tshirt"></i>ì˜ë¥˜/íŒ¨ì…˜<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ë‚¨ì„±ì˜ë¥˜')}">ë‚¨ì„±ì˜ë¥˜</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ë‚¨ì„±ì˜ë¥˜' , cateName3='ìƒì˜')}">ìƒì˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ë‚¨ì„±ì˜ë¥˜' , cateName3='í•˜ì˜')}">í•˜ì˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ë‚¨ì„±ì˜ë¥˜' , cateName3='ì¡í™”(ê°€ë°©,ì§€ê°‘,ë²¨íŠ¸)')}">ì¡í™”(ê°€ë°©,ì§€ê°‘,ë²¨íŠ¸)</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ë‚¨ì„±ì˜ë¥˜' , cateName3='ì‹ ë°œ')}">ì‹ ë°œ</a>
                            </ol>
                        </li>
                        <li><a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ì—¬ì„±ì˜ë¥˜')}">ì—¬ì„±ì˜ë¥˜</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ì—¬ì„±ì˜ë¥˜' , cateName3= 'ìƒì˜')}">ìƒì˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ì—¬ì„±ì˜ë¥˜' , cateName3= 'í•˜ì˜')}">í•˜ì˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ì—¬ì„±ì˜ë¥˜' , cateName3= 'ì¡í™”(ê°€ë°©,ì§€ê°‘,ë²¨íŠ¸)')}">ì¡í™”(ê°€ë°©,ì§€ê°‘,ë²¨íŠ¸)</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì˜ë¥˜/íŒ¨ì…˜' , cateName2='ì—¬ì„±ì˜ë¥˜' , cateName3= 'ì‹ ë°œ')}">ì‹ ë°œ</a>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>
                    <a th:href="@{/product/list(cateName1='ê°€ì „')}"><i class="fas fa-laptop"></i>ê°€ì „<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='ìƒí™œê°€ì „')}">ìƒí™œê°€ì „</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='ìƒí™œê°€ì „' ,cateName3='ì„¸íƒê¸°/ì„¸íƒê¸°ìš©í’ˆ')}">ì„¸íƒê¸°/ì„¸íƒê¸°ìš©í’ˆ</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='ìƒí™œê°€ì „' ,cateName3='ì²­ì†Œê¸°')}">ì²­ì†Œê¸°</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='ìƒí™œê°€ì „' ,cateName3='ì—ì–´ì»¨')}">ì—ì–´ì»¨</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='ìƒí™œê°€ì „' ,cateName3='ëƒ‰ì¥ê³ ')}">ëƒ‰ì¥ê³ </a>
                            </ol>
                        </li>
                        <li><a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='TV/ì˜ìƒê°€ì „')}">TV/ì˜ìƒê°€ì „</a>
                            <ol>
                                <li><a th:href="@{/product/list(cateName1='ê°€ì „', cateName2='TV/ì˜ìƒê°€ì „', cateName3='TV')}">TV</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ê°€ì „',cateName2='TV/ì˜ìƒê°€ì „', cateName3='ì˜ìƒí”Œë ˆì´ì–´')}">ì˜ìƒí”Œë ˆì´ì–´</a>
                            </ol>
                        </li>
                    </ol>
                </li>
                <li>
                    <a th:href="@{/product/list(cateName1='ì‹í’ˆ')}"><i class="fas fa-utensils"></i>ì‹í’ˆ<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ë†/ì¶•ì‚°ë¬¼')}">ë†/ì¶•ì‚°ë¬¼</a>

                            <ol>
                                <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ë†/ì¶•ì‚°ë¬¼', cateName3='ì •ìœ¡/ê³„ë€')}">ì •ìœ¡/ê³„ë€</a>
                                <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ë†/ì¶•ì‚°ë¬¼', cateName3='ì •ìœ¡/ê³„ë€')}">ìŒ€/ì¡ê³¡/ê²¬ê³¼</a>
                                <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ë†/ì¶•ì‚°ë¬¼', cateName3='ì •ìœ¡/ê³„ë€')}">ê³¼ì¼</a>
                                <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ë†/ì¶•ì‚°ë¬¼', cateName3='ì •ìœ¡/ê³„ë€')}">ì±„ì†Œ</a>
                            </ol>

                        </li>
                        <li><a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ìˆ˜ì‚°/ê±´ì–´ë¬¼')}">ìˆ˜ì‚°/ê±´ì–´ë¬¼</a>

                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ìˆ˜ì‚°/ê±´ì–´ë¬¼', cateName3='ìƒì„ ')}">ìƒì„ </a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ìˆ˜ì‚°/ê±´ì–´ë¬¼', cateName3='ê¹€/í•´ì¡°ë¥˜')}">ê¹€/í•´ì¡°ë¥˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ìˆ˜ì‚°/ê±´ì–´ë¬¼', cateName3='ì „ë³µ/êµ´/ì¡°ê°œë¥˜')}">ì „ë³µ/êµ´/ì¡°ê°œë¥˜</a>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ì‹í’ˆ', cateName2='ìˆ˜ì‚°/ê±´ì–´ë¬¼', cateName3='ì˜¤ì§•ì–´/ë‚™ì§€/ì­ˆê¾¸ë¯¸')}">ì˜¤ì§•ì–´/ë‚™ì§€/ì­ˆê¾¸ë¯¸</a>
                            </ol>
                        </li>
                    </ol>
                <li>


                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼')}"><i class="fas fa-home"></i>ë°˜ë ¤ë™ë¬¼<i
                            class="fas fa-angle-right"></i></a>
                    <ol>
                        <li>
                            <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê°•ì•„ì§€')}">ê°•ì•„ì§€</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê°•ì•„ì§€', cateName3='ì‚¬ë£Œ/ì˜ì–‘ì œ')}">ì‚¬ë£Œ/ì˜ì–‘ì œ</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê°•ì•„ì§€', cateName3='ê°„ì‹')}">ê°„ì‹</a>
                                </li>
                                <li><a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê°•ì•„ì§€', cateName3='ë°°ë³€ìš©í’ˆ')}">ë°°ë³€ìš©í’ˆ</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê°•ì•„ì§€', cateName3='ì¥ë‚œê°/í›ˆë ¨ìš©í’ˆ')}">ì¥ë‚œê°/í›ˆë ¨ìš©í’ˆ</a>
                                </li>
                            </ol>
                        </li>
                        <li>
                            <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê³ ì–‘ì´')}">ê³ ì–‘ì´</a>
                            <ol>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê³ ì–‘ì´', cateName3='ì‚¬ë£Œ/ì˜ì–‘ì œ')}">ì‚¬ë£Œ/ì˜ì–‘ì œ</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê³ ì–‘ì´', cateName3='ê°„ì‹')}">ê°„ì‹</a>
                                </li>
                                <li><a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê³ ì–‘ì´', cateName3='ë°°ë³€ìš©í’ˆ')}">ë°°ë³€ìš©í’ˆ</a>
                                </li>
                                <li>
                                    <a th:href="@{/product/list(cateName1='ë°˜ë ¤ë™ë¬¼', cateName2='ê³ ì–‘ì´', cateName3='ì¥ë‚œê°/í›ˆë ¨ìš©í’ˆ')}">ì¥ë‚œê°/í›ˆë ¨ìš©í’ˆ</a>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </li>
            </ul>
        </aside>

        <!-- ìƒí’ˆ ìƒì„¸í˜ì´ì§€ ì‹œì‘ -->
        <section class="view">

            <!-- ì œëª©, í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ -->
            <nav>
                <h1>ìƒí’ˆë³´ê¸°</h1>
                <p>
                    HOME > <span>[[${product.cateName1}]]</span> >
                    <span>[[${product.cateName2}]]</span> > <strong>[[${product.cateName3}]]</strong>
                </p>
            </nav>

            <!-- ìƒí’ˆ ì „ì²´ ì •ë³´ ë‚´ìš© -->
            <article class="info">
                <div class="image">
                    <img th:src="@{/uploads/__${product.image1}__}" th:alt="${product.prodName}" alt="">
                </div>
                <div class="summary">
                    <nav>
                        <p style="position: relative">
                            <span style="font-size: larger; font-weight: bold;">(ì£¼)</span>
                            <span th:text="${product.sellerName}" style="font-size: larger; font-weight: bold;"></span>
                            <button id="unlike"
                                    style="position: absolute; right: 5px; font-size: x-large; font-weight: bold; display: none ">
                                ğŸ¤
                            </button>
                            <button id="like"
                                    style="position: absolute; right: 5px; font-size: x-large; font-weight: bold; display: none">
                                â¤ï¸
                            </button>

                        </p>
                        <h2>ìƒí’ˆë²ˆí˜¸&nbsp;:&nbsp;<span id="prodId" th:text="${product.prodNo}">10010118412</span></h2>
                    </nav>
                    <nav>
                        <h3 th:text="${product.prodName}">ìƒí’ˆëª…</h3>
                        <p th:text="${product.etc}">ìƒí’ˆì„¤ëª… ì¶œë ¥</p>
                        <h5>
                        <span th:each="starIndex : ${#numbers.sequence(1, reviewRatioDTO.avg)}"
                              th:if="${reviewRatioDTO.getCount()}>0" style="padding-bottom: 10px">
                                   <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                        fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>
                                </span>
                            </span>
                            <a href="#" class="prodSide">ìƒí’ˆí‰ë³´ê¸°</a>
                        </h5>
                    </nav>
                    <nav>
                        <div class="org_price">
                            <del th:if="${product.prodDiscount>0}" th:text="${product.prodPrice}" id="ori_price">45,000</del>
                            <span th:if="${product.prodDiscount>0}" th:text="${product.prodDiscount}+'%'"></span>
                        </div>
                        <div class="dis_price" >
                            <ins id="disCount"
                                 th:text="${#numbers.formatDecimal(product.prodPrice * (100 - product.prodDiscount) * 0.01, 1, 0 )}">
                                í• ì¸ëœ ê°€ê²©
                            </ins>
                        </div>
                    </nav>
                    <nav>
                        <span class="delivery" th:if="${product.delivery==0}">ë¬´ë£Œë°°ì†¡</span>
                        <span class="delivery" th:if="${product.delivery!=0}">ë°°ì†¡ë¹„ : [[${product.delivery}]]</span>
                        <span>
                            <b class="arrival"
                               th:text="${#temporals.format(#temporals.createNow().plusDays(3), 'MM-dd')}"
                               style="font-size: 20px"></b> ë„ì°©
                            ì˜ˆì •
                        </span>
                        <span class="desc">ë³¸ ìƒí’ˆì€ êµ­ë‚´ë°°ì†¡ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span>
                    </nav>
                    <nav>
                        <span class="card cardfree"><i>ì•„ì´ì½˜</i>ë¬´ì´ìí• ë¶€</span>
                        <span class="card cardadd"><i>ì•„ì´ì½˜</i>ì¹´ë“œì¶”ê°€í˜œíƒ</span>
                    </nav>
                    <nav>
                        <span class="origin">ì›ì‚°ì§€-ìƒì„¸ì„¤ëª… ì°¸ì¡°</span>
                    </nav>
                    <!-- ë§Œì•½ì— ì˜µì…˜ì´ ìˆëŠ” ê²½ìš°-->
                    <script th:inline="javascript">


                        window.onload = async function () {

                            const color = document.getElementById('color');
                            const size = document.getElementById('size');
                            const totalPrice = document.getElementById('total_price');
                            const prodNo = [[${product.prodNo}]];
                            const prodDiscount = [[${product.prodDiscount}]];
                            var price = [[${product.prodPrice}]];
                            const like = document.getElementById('like');
                            const unlike = document.getElementById('unlike');


                            // ë¦¬ë·°ë¡œ ìŠ¤í¬ë¡¤ ì´ë™ //
                            const prodReviewBox = document.getElementsByClassName('prodReviewBox')[0];
                            const moveReview = document.getElementsByClassName('moveReview')[0];
                            moveReview.onclick = function (e) {
                                e.preventDefault();
                                prodReviewBox.scrollIntoView();
                            }

                            //ìƒì„¸í˜ì´ì§€ë¡œ ìŠ¤í¬ë¡¤ ì´ë™//
                            const detail = document.getElementsByClassName('detail')[0];
                            const prodInfo = document.getElementsByClassName('prodInfo')[0];
                            prodInfo.onclick = function (e) {
                                e.preventDefault();
                                detail.scrollIntoView();
                            }


                            //Q&A ìŠ¤í¬ë¡¤ ì´ë™//
                            const QA_view = document.getElementsByClassName('view-qna')[0];
                            const info_QA = document.getElementsByClassName('info_QA')[0];
                            info_QA.onclick = function (e) {
                                e.preventDefault();
                                QA_view.scrollIntoView();
                            }


                            //ì œí’ˆì˜†ì— ìˆëŠ” ìƒí’ˆí‰ë³´ê¸° í´ë¦­
                            const prodReviewBox2 = document.getElementsByClassName('prodReviewBox')[0];
                            const prodSide = document.getElementsByClassName('prodSide')[0];
                            prodSide.onclick = function (e) {
                                e.preventDefault();
                                prodReviewBox2.scrollIntoView();
                            }

                            //ë°°ë„ˆ ì¡°íšŒìˆ˜ ì˜¬ë¦¬ê¸°

                            const Banner = document.getElementsByClassName('Banner')[0];

                            Banner.onclick = function (e){

                                e.preventDefault();


                                const bannerNo = Banner.getAttribute('data-bannerNo');
                                const link = Banner.getAttribute('data-link');

                                console.log('bannerNo :' + bannerNo);

                                const jsonData = {
                                    "bannerNo": bannerNo
                                }

                                fetch("/lotteshop/main/banner/index", {
                                    method: 'POST',
                                    headers: {'Content-Type': 'application/json'},
                                    body: JSON.stringify(jsonData)
                                })
                                    .then(response => {
                                        if (!response.ok) {
                                            throw new Error('ë°ì´í„° ì „ì†¡ì— ì‹¤íŒ¨!');
                                        } else {
                                            window.location.href = link;
                                        }
                                        return response.json();
                                    })
                                    .then(data => {
                                        console.log(data);
                                    })
                                    .catch(err => console.log(err))
                            }

                            try {
                                const userID = document.getElementById('userId').value;
                                const result = await fetchGet('/lotteshop/product/likeSearch?userId=' + userID + '&prodNo=' + [[${product.prodNo}]]);
                                if (result.data == 1) {
                                    like.style.display = '';
                                    unlike.style.display = 'none';
                                } else {
                                    like.style.display = 'none';
                                    unlike.style.display = '';
                                }
                            } catch (e) {
                                like.style.display = 'none';
                                unlike.style.display = '';
                            }

                            try {
                                color.onchange = async function () {
                                    sCor = this.value;

                                    // ì˜µì…˜ ì‚¬ì´ì¦ˆë¥¼ ì¶”ê°€
                                    const result = await fetchGet('/lotteshop/product/optionSelect?color=' + this.value + '&prodNo=' + prodNo);
                                    console.log(result.sub);
                                    // ê¸°ì¡´ì˜ ì˜µì…˜ì„ ì œê±°
                                    size.innerHTML = '';
                                    // ìƒˆë¡œìš´ ì˜µì…˜ì„ ì¶”ê°€
                                    const defaultOption = document.createElement('option');
                                    defaultOption.style.fontSize = 'x-large';
                                    defaultOption.value = "";
                                    defaultOption.disabled = true;
                                    defaultOption.selected = true;
                                    defaultOption.textContent = "::(í•„ìˆ˜)ì˜µì…˜ ì‚¬ì´ì¦ˆ ì„ íƒ";
                                    size.appendChild(defaultOption);

                                    result.sub.forEach(item => {
                                        console.log(item.size);
                                        const optionSize = document.createElement('option');
                                        optionSize.value = item.size;
                                        optionSize.text = item.size + ' (' + item.prodPrice + ')';
                                        optionSize.dataset.subNo = item.subProdNo;
                                        optionSize.dataset.color = item.color;
                                        optionSize.dataset.size = item.size;
                                        optionSize.dataset.price = item.prodPrice;
                                        size.appendChild(optionSize);


                                    });
                                };
                            } catch (e) {

                            }


                            document.addEventListener('change', function (e) {
                                if (e.target.matches('.size')) {
                                    const plus = document.getElementById('plus');
                                    const targetDiv = document.getElementById('option-container');
                                    const newPlus = plus.cloneNode(true);
                                    newPlus.style.removeProperty('display');
                                    const select = e.target.selectedOptions[0];
                                    newPlus.querySelector('#optionNo').value = select.dataset.subNo;
                                    newPlus.querySelector('#optionColor').value = select.dataset.color;
                                    newPlus.querySelector('#optionSize').value = select.dataset.size;
                                    newPlus.querySelector('#optionPrice').value = select.dataset.price;
                                    targetDiv.appendChild(newPlus);
                                    totalPrice.innerText = parseInt(totalPrice.innerText) + parseInt(select.dataset.price * (100 - prodDiscount) * 0.01);

                                }
                            });

                            unlike.onclick = async function (e) {
                                e.preventDefault();
                                try {
                                    const userID = document.getElementById('userId').value;
                                    const result = await fetchGet('/lotteshop/product/like?prodNo=' + [[${product.prodNo}]] + '&userId=' + userID);
                                    console.log(result.data + "!");
                                    if (result.data == 1) {
                                        like.style.display = '';
                                        unlike.style.display = 'none';
                                    } else {
                                        like.style.display = 'none';
                                        unlike.style.display = '';
                                    }

                                } catch (e) {
                                    console.log(e.message);
                                    alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”')
                                }

                            }

                            like.onclick = async function (e) {
                                e.preventDefault();
                                const userID = document.getElementById('userId').value;
                                const result = await fetchGet('/lotteshop/product/like?prodNo=' + [[${product.prodNo}]] + '&userId=' + userID);
                                console.log(result.data + "!");
                                if (result.data == 1) {
                                    like.style.display = '';
                                    unlike.style.display = 'none';
                                } else {
                                    like.style.display = 'none';
                                    unlike.style.display = '';
                                }

                            }


                            const productPriceForNo = [[${product.prodPrice}]];
                            const productDiscountForNo = [[${product.prodDiscount}]];
                            var priceForMe = parseInt(parseInt(productPriceForNo) * (100 - productDiscountForNo) * 0.01);
                            document.addEventListener('click', async function (event) {
                                if (event.target.matches('.plus')) {
                                    const element = event.target.parentNode.querySelector('input[type="number"]');
                                    const optionPrice = event.target.parentNode.querySelector('#optionPrice');
                                    try {
                                        totalPrice.innerText = parseInt(totalPrice.innerText) + parseInt(optionPrice.value * (100 - prodDiscount) * 0.01);
                                    } catch (e) {
                                        totalPrice.innerText = parseInt(totalPrice.innerText) + parseInt(priceForMe);
                                    }
                                    element.stepUp();
                                }
                                if (event.target.matches('.minus')) {
                                    const element = event.target.parentNode.querySelector('input[type="number"]');
                                    const optionPrice = event.target.parentNode.querySelector('#optionPrice');
                                    if (element.value > 1) {
                                        try {
                                            totalPrice.innerText = parseInt(totalPrice.innerText) - parseInt(optionPrice.value * (100 - prodDiscount) * 0.01);
                                        } catch (e) {
                                            totalPrice.innerText = parseInt(totalPrice.innerText) - parseInt(priceForMe);
                                        }
                                    }

                                    element.stepDown();
                                }

                                if (event.target.matches('.delete')) {
                                    const element = event.target.parentNode;
                                    const optionPrice = event.target.parentNode.querySelector('#optionPrice');
                                    const optionCount = event.target.parentNode.querySelector('#optionCount');
                                    totalPrice.innerText = parseInt(totalPrice.innerText) - parseInt(optionPrice.value * (100 - prodDiscount) * 0.01 * optionCount.value);

                                    element.remove();
                                }

                                if (event.target.matches('#cartSub')) {
                                    try {
                                        const userID = document.getElementById('userId').value;
                                        const quantityContainers = document.querySelectorAll('.quantity-container');
                                        const itemsCounts = [];
                                        const itemsNos = [];
                                        const itemsPrice = []
                                        const itemsDiscount = [];

                                        quantityContainers.forEach(container => {
                                            if (container.querySelector('#optionNo').value == "") {

                                            } else {
                                                itemsCounts.push(parseInt(container.querySelector('#optionCount').value));
                                                itemsNos.push(parseInt(container.querySelector('#optionNo').value));

                                            }

                                        });
                                        if (itemsCounts.length < 1) {
                                            alert('ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”');
                                        } else {
                                            const json = {itemsCounts: itemsCounts, itemsNos: itemsNos, userId: userID};
                                            console.log(json);
                                            const result = await fetchPost('/lotteshop/product/view', json);
                                            if (result.result === 'success') {
                                                alert('ì¥ë°”êµ¬ë‹ˆë¡œ ìƒí’ˆì´ ë‹´ê²¼ìŠµë‹ˆë‹¤.')
                                                //ì¶”í›„ì— ì¥ë°”êµ¬ë‹ˆ ì´ë™ ì¶”ê°€
                                            }
                                        }
                                    } catch (e) {
                                        console.log(e.toString())
                                        alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”');
                                    }
                                }


                                if (event.target.matches('#cartBuy')) {
                                    try {
                                        const userID = document.getElementById('userId').value;
                                        const quantityContainers = document.querySelectorAll('.quantity-container');
                                        const itemsCounts = [];
                                        const itemsNos = [];

                                        quantityContainers.forEach(container => {
                                            if (container.querySelector('#optionNo').value == "") {

                                            } else {
                                                itemsCounts.push(parseInt(container.querySelector('#optionCount').value));
                                                itemsNos.push(parseInt(container.querySelector('#optionNo').value));
                                            }

                                        });
                                        if (itemsCounts.length < 1) {
                                            alert('ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”');
                                        } else {
                                            const json = {itemsCounts: itemsCounts, itemsNos: itemsNos, userId: userID};
                                            console.log(json);
                                            const result = await fetchPost('/lotteshop/product/order', json);
                                            window.location.href = '/lotteshop/product/order';
                                        }
                                    } catch (e) {
                                        console.log(e.toString())
                                        alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”');
                                    }
                                }

                                if (event.target.matches('#cartSub2')) {
                                    try {
                                        const userID = document.getElementById('userId').value;
                                        const quantityContainers = document.querySelectorAll('.quantity-container');
                                        const itemsCounts = [];
                                        const itemsNos = [];

                                        quantityContainers.forEach(container => {
                                            if (container.querySelector('#optionNo').value == "") {

                                            } else {
                                                itemsCounts.push(parseInt(container.querySelector('#optionCount').value));
                                                itemsNos.push(parseInt(container.querySelector('#optionNo').value));
                                            }

                                        });
                                        if (itemsCounts.length < 1) {
                                            alert('ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”');
                                        } else {
                                            const json = {itemsCounts: itemsCounts, itemsNos: itemsNos, userId: userID};
                                            console.log(json);
                                            const result = await fetchPost('/lotteshop/product/view', json);
                                            if (result.result === 'success') {
                                                alert('ì¥ë°”êµ¬ë‹ˆë¡œ ìƒí’ˆì´ ë‹´ê²¼ìŠµë‹ˆë‹¤.')
                                                //ì¶”í›„ì— ì¥ë°”êµ¬ë‹ˆ ì´ë™ ì¶”ê°€
                                            }
                                        }
                                    } catch (e) {
                                        console.log(e.toString())
                                        alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”');
                                    }
                                }

                                if (event.target.matches('#cartBuy2')) {
                                    try {
                                        const userID = document.getElementById('userId').value;
                                        const quantityContainers = document.querySelectorAll('.quantity-container');
                                        const itemsCounts = [];
                                        const itemsNos = [];

                                        quantityContainers.forEach(container => {
                                            if (container.querySelector('#optionNo').value == "") {

                                            } else {
                                                itemsCounts.push(parseInt(container.querySelector('#optionCount').value));
                                                itemsNos.push(parseInt(container.querySelector('#optionNo').value));
                                            }

                                        });
                                        if (itemsCounts.length < 1) {
                                            alert('ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”');
                                        } else {
                                            const json = {itemsCounts: itemsCounts, itemsNos: itemsNos, userId: userID};
                                            console.log(json);
                                            const result = await fetchPost('/lotteshop/product/order', json);
                                            window.location.href = '/lotteshop/product/order';
                                        }
                                    } catch (e) {
                                        console.log(e.toString())
                                        alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”');
                                    }
                                }

                            });


                            // "ë¬¸ì˜í•˜ê¸°" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
                            document.getElementById('openModal').addEventListener('click', function() {
                                openModal(); // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ í˜¸ì¶œ
                            });

                            // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
                            function openModal() {
                                // ëª¨ë‹¬ ì°½ì„ ë‚˜íƒ€ë‚´ëŠ” ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
                                var modal = document.getElementById('qnaModal');
                                // ëª¨ë‹¬ ì°½ ë³´ì´ë„ë¡ ìŠ¤íƒ€ì¼ ì„¤ì •
                                modal.style.display = 'block';
                            }

                            // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
                            window.addEventListener('click', function(event) {
                                var modal = document.getElementById('qnaModal');
                                // ëª¨ë‹¬ ë°”ê¹¥ì„ í´ë¦­í•˜ê³  ëª¨ë‹¬ì´ ì—´ë ¤ìˆëŠ” ê²½ìš°ì—ë§Œ ëª¨ë‹¬ì„ ë‹«ìŒ
                                if (event.target === modal) {
                                    closeModal();
                                }
                            });

                            // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
                            document.querySelector('.qna-modal-close').addEventListener('click', closeModal);

                            // ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜
                            function closeModal() {
                                var modal = document.getElementById('qnaModal');
                                // ëª¨ë‹¬ ì°½ ë‹«ê¸°
                                modal.style.display = 'none';
                            }

                            // "ìƒí’ˆ ë¬¸ì˜" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
                            document.getElementById('openProductInquiryModal').addEventListener('click', function() {
                                openProductInquiryModal(); // ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ í˜¸ì¶œ
                            });

                            // "ìƒí’ˆ ë¬¸ì˜" ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜
                            function openProductInquiryModal() {
                                // ëª¨ë‹¬ ì°½ì„ ë‚˜íƒ€ë‚´ëŠ” ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
                                var modal = document.getElementById('productInquiryModal');
                                // ëª¨ë‹¬ ì°½ ë³´ì´ë„ë¡ ìŠ¤íƒ€ì¼ ì„¤ì •
                                modal.style.display = 'block';
                            }

                            // "ìƒí’ˆ ë¬¸ì˜" ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜
                            function closeProductInquiryModal() {
                                var modal = document.getElementById('productInquiryModal');
                                // ëª¨ë‹¬ ì°½ ë‹«ê¸°
                                modal.style.display = 'none';

                                // ì²«ë²ˆì§¸ ëª¨ë‹¬ ì—´ê¸°
                                openModal();
                            }

                            // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
                            window.addEventListener('click', function(event) {
                                var modal = document.getElementById('productInquiryModal');
                                // ëª¨ë‹¬ ë°”ê¹¥ì„ í´ë¦­í•˜ê³  ëª¨ë‹¬ì´ ì—´ë ¤ìˆëŠ” ê²½ìš°ì—ë§Œ ëª¨ë‹¬ì„ ë‹«ìŒ
                                if (event.target === modal) {
                                    closeProductInquiryModal();
                                }
                            });

                            // ì·¨ì†Œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
                            document.querySelector('.qna-product-btnLink-cancel').addEventListener('click', function() {
                                // ì²« ë²ˆì§¸ ëª¨ë‹¬ ì—´ê¸°
                                openModal();
                                // ìƒí’ˆ ë¬¸ì˜ ëª¨ë‹¬ ë‹«ê¸°
                                closeProductInquiryModal();
                            });

                            // ëª¨ë‹¬ ë‚´ì˜ "ë‹«ê¸°" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
                            document.querySelector('#productInquiryModal .qna-modal-close').addEventListener('click', closeProductInquiryModal);

                            ///////////////////////////////////////////////////////////////////////////////////////////
                            // ìƒí’ˆ ë¬¸ì˜ ëª¨ë‹¬ì˜ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
                            ///////////////////////////////////////////////////////////////////////////////////////////
                            document.querySelector('.qna-product-btnLink').addEventListener('click', function(e) {
                                // ì…ë ¥ëœ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
                                var inquiryCate = document.querySelector('.product-inquiry-select').value;
                                var inquiryContent = document.querySelector('.qna-product-textarea').value;
                                var isStatus2 = document.querySelector('input[type="checkbox"]').checked;
                                var sellerUid =  e.target.getAttribute('data-sellerUid');
                                    console.log("sellerUid : " + sellerUid);
                                try {
                                    var userId = document.getElementById('questionId').value;
                                }catch (e){
                                    alert('ë¡œê·¸ì¸ì„ í•˜ì„¸ìš”.')
                                    return;
                                }
                                var prodNo = [[${product.prodNo}]];

                                console.log("inquiryCate" + inquiryCate);
                                console.log("inquiryContent" + inquiryContent);
                                console.log("isStatus2" + isStatus2);
                                console.log("userId" +  userId );
                                console.log("prodNo" + prodNo);

                                // ìƒí’ˆ ë¬¸ì˜ ë°ì´í„° ê°ì²´ ìƒì„±
                                var qnaData = {
                                    cate: inquiryCate,
                                    content: inquiryContent,
                                    status2: isStatus2,
                                    uid: userId,
                                    prodNo: prodNo,
                                    sellerUid: sellerUid

                                };

                                // AJAX ìš”ì²­ì„ ìœ„í•œ ì„¤ì •
                                var xhr = new XMLHttpRequest();
                                xhr.open('POST', '/lotteshop/product/view/qna', true);
                                xhr.setRequestHeader('Content-Type', 'application/json');

                                // ì„œë²„ ì‘ë‹µ ì²˜ë¦¬
                                xhr.onload = function() {
                                    console.log("status : " + ì„±ê³µì¸ê°€ìš”);
                                    if (xhr.status === 200) {
                                        // ì„±ê³µì ìœ¼ë¡œ ì €ì¥ëœ ê²½ìš°
                                        alert('ìƒí’ˆ ë¬¸ì˜ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                                        // ëª¨ë‹¬ ë‹«ê¸°
                                        closeModal();
                                    } else {
                                        // ì˜¤ë¥˜ ë°œìƒ ì‹œ
                                        alert('ìƒí’ˆ ë¬¸ì˜ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                                    }
                                };

                                // ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
                                xhr.send(JSON.stringify(qnaData));

                                alert('ìƒí’ˆ  ë¬¸ì˜ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.')
                                location.reload();
                            });
                        }
                    </script>

                    <th:block th:if="${#authentication.principal != 'anonymousUser'}">
                        <input type="hidden" id="userId" th:value="${#authentication.principal.user.uid}">
                    </th:block>

                    <div class="quantity-container" id="plus" style="display: none">
                        <button class="minus">-</button>
                        <input type="number" id="optionCount" min="1" value="1">
                        <button class="plus">+</button>
                        <input type="text" id="optionColor" readonly value="">
                        <input type="text" id="optionSize" readonly value="">
                        <input type="text" id="optionPrice" readonly value="">
                        <input type="hidden" id="optionNo" readonly value="">
                        <button class="delete">ì‚­ì œ</button>
                    </div>
                    <th:block th:if="${options.size()>1}">
                        <nav id="choiceBox">
                            <label for="color" style="font-size: medium"></label>
                            <select id="color" name="color">
                                <option style="font-size: x-large" value="" disabled selected>::(í•„ìˆ˜)ì˜µì…˜ ìƒ‰ìƒ ì„ íƒ</option>
                                <th:block th:each="option : ${options}">
                                    <option th:value="${option.color}" th:text="${option.color}"
                                            style="font-size: x-large"></option>
                                </th:block>
                            </select>
                            <br>
                            <br>
                            <label for="size" style="font-size: medium"></label>
                            <select id="size" name="size" class="size">
                                <option style="font-size: x-large" value="" disabled selected>::(í•„ìˆ˜)ì˜µì…˜ ì‚¬ì´ì¦ˆ ì„ íƒ</option>
                            </select>
                        </nav>

                        <th:block th:if="${banner3 != null and !banner3.isEmpty()}">
                            <th:block th:each="banner : ${banner3}">
                                <article>
                                    <a class="Banner" th:href="${banner.link}" th:if="${banner.status} == 1" th:data-bannerNo="${banner.bannerNo}"
                                       th:data-link="${banner.link}">
                                        <img class="bannerImg" th:src="@{/uploads/__${banner.img_456}__}"/>
                                    </a>
                                </article>
                            </th:block>
                        </th:block>

                        <div class="option-container" id="option-container">

                        </div>

                        <div class="button">
                            <input type="button" class="cart" id="cartSub" value="ì¥ë°”êµ¬ë‹ˆ"/>
                            <input type="button" class="order" id="cartBuy" value="êµ¬ë§¤í•˜ê¸°"/>
                        </div>
                        <div class="total">
                        <span id="total_price"
                              th:text="${0}"></span>
                            <em>ì´ ìƒí’ˆê¸ˆì•¡</em>
                        </div>
                    </th:block>

                    <th:block th:if="${options.size()==1}" th:each="option , index:${options}">

                        <!--ë°°ë„ˆ ì‹œì‘-->
                        <th:block th:if="${banner3 != null and !banner3.isEmpty()}">
                            <th:block th:each="banner : ${banner3}">
                                <article>
                                    <a class="Banner" th:href="${banner.link}" th:if="${banner.status} == 1" th:data-bannerNo="${banner.bannerNo}"
                                       th:data-link="${banner.link}">
                                        <img class="bannerImg" th:src="@{/uploads/__${banner.img_456}__}"/>
                                    </a>
                                </article>
                            </th:block>
                        </th:block>

                        <!--ë°°ë„ˆ ë-->


                        <div class="option-container" id="option-container">
                            <div class="quantity-container" id="plus">
                                <button class="minus">-</button>
                                <input type="number" id="optionCount" min="1" value="1">
                                <button class="plus">+</button>
                                <input type="hidden" id="optionNo" readonly th:value="${option.subProdNo}">
                                <input type="text" th:value="${product.getProdName()}">
                            </div>
                        </div>
                        <div class="button">
                            <input type="button" class="cart" id="cartSub2" value="ì¥ë°”êµ¬ë‹ˆ"/>
                            <input type="button" class="order" id="cartBuy2" value="êµ¬ë§¤í•˜ê¸°"/>
                        </div>
                        <div class="total">
                        <span id="total_price"
                              th:text="${#numbers.formatDecimal( product.prodPrice * (100 - product.getProdDiscount()) * 0.01 , 1, 0)}"></span>
                            <em>ì´ ìƒí’ˆê¸ˆì•¡</em>
                        </div>
                    </th:block>


                </div>
            </article>

            <!-- ìƒí’ˆ ì •ë³´ ë‚´ìš© -->
            <article class="detail">
                <nav style="display: flex;background-color: #f2f2f2;text-align: center">
                    <div style="width: 220px;height: 40px;display: inline-block">
                        <a class="prodInfo" href="#" style="font-size: xx-large">ìƒì„¸ì •ë³´</a>&nbsp;&nbsp;
                    </div>
                    <div style="width: 220px;height: 40px;display: inline-block">
                        <a class="moveReview" href="#" style="font-size: xx-large">ë¦¬ë·°(<span
                                th:text="${reviewNum.reviews.size()}" style="font-size: xx-large"></span>)</a>&nbsp;&nbsp
                        <!--reviewPage.dtoList.size()-->
                    </div>
                    <div style="width: 220px;height: 40px;display: inline-block">
                        <a class="info_QA" href="#" style="font-size: xx-large">Q&A([[${prodQna.total}]])</a>&nbsp;&nbsp;
                    </div>
                </nav>
                <!-- ìƒí’ˆìƒì„¸í˜ì´ì§€ ì´ë¯¸ì§€ -->
                <img th:src="@{/uploads/__${product.image4}__}" th:alt="${product.prodName}" alt="ìƒì„¸í˜ì´ì§€1">
            </article>

            <!-- ìƒí’ˆ ì •ë³´ ì œê³µ ê³ ì‹œ ë‚´ìš© -->
            <article class="notice">
                <nav>
                    <h1>ìƒí’ˆ ì •ë³´ ì œê³µ ê³ ì‹œ</h1>
                    <p>[ì „ììƒê±°ë˜ì— ê´€í•œ ìƒí’ˆì •ë³´ ì œê³µì— ê´€í•œ ê³ ì‹œ] í•­ëª©ì— ì˜ê±° ë“±ë¡ëœ ì •ë³´ì…ë‹ˆë‹¤.</p>
                </nav>
                <table border="0">
                    <tr>
                        <td>ìƒí’ˆë²ˆí˜¸</td>
                        <td>[[${product.prodNo}]]</td>
                    </tr>
                    <tr>
                        <td>ìƒí’ˆìƒíƒœ</td>
                        <td>[[${product.prodState}]]</td>
                    </tr>
                    <tr>
                        <td>ë¶€ê°€ì„¸ ë©´ì„¸ì—¬ë¶€</td>
                        <td>[[${product.prodTax}]]</td>
                    </tr>
                    <tr>
                        <td>ì˜ìˆ˜ì¦ë°œí–‰</td>
                        <td>[[${product.prodReceipt}]]</td>
                    </tr>
                    <tr>
                        <td>ì‚¬ì—…ìêµ¬ë¶„</td>
                        <td>[[${product.prodSa}]]</td>
                    </tr>
                    <tr>
                        <td>ë¸Œëœë“œ</td>
                        <td>[[${product.manufacture}]]</td>
                    </tr>
                    <tr>
                        <td>ì›ì‚°ì§€</td>
                        <td>[[${product.prodWonsan}]]</td>
                    </tr>
                </table>
                <p class="notice">
                    ì†Œë¹„ìê°€ ì „ììƒê±°ë˜ë“±ì—ì„œ ì†Œë¹„ì ë³´í˜¸ì— ê´€í•œ ë²•ë¥  ì œ 17ì¡° ì œ1í•­ ë˜ëŠ” ì œ3í•­ì— ë”°ë¼ ì²­ì•½ì² íšŒë¥¼ í•˜ê³ 
                    ë™ë²• ì œ 18ì¡° ì œ1í•­ ì— ë”°ë¼ ì²­ì•½ì² íšŒí•œ ë¬¼í’ˆì„ íŒë§¤ìì—ê²Œ ë°˜í™˜í•˜ì˜€ìŒì—ë„ ë¶ˆêµ¬ í•˜ê³  ê²°ì œ ëŒ€ê¸ˆì˜
                    í™˜ê¸‰ì´ 3ì˜ì—…ì¼ì„ ë„˜ê²Œ ì§€ì—°ëœ ê²½ìš°, ì†Œë¹„ì ëŠ” ì „ììƒê±°ë˜ë“±ì—ì„œ ì†Œë¹„ìë³´í˜¸ì— ê´€í•œ ë²•ë¥  ì œ18ì¡°
                    ì œ2í•­ ë° ë™ë²• ì‹œí–‰ë ¹ ì œ21ì¡° 2ì— ë”°ë¼ ì§€ì—°ì¼ìˆ˜ì— ëŒ€í•˜ì—¬ ì „ìƒë²• ì‹œí–‰ë ¹ìœ¼ë¡œ ì •í•˜ëŠ” ì´ìœ¨ì„ ê³±í•˜ì—¬
                    ì‚°ì •í•œ ì§€ì—°ì´ì(â€œì§€ì—°ë°°ìƒê¸ˆâ€)ë¥¼ ì‹ ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ìš¸ëŸ¬, êµí™˜âˆ™ë°˜í’ˆâˆ™ë³´ì¦ ë° ê²°ì œëŒ€ê¸ˆì˜
                    í™˜ê¸‰ì‹ ì²­ì€ [ë‚˜ì˜ì‡¼í•‘ì •ë³´]ì—ì„œ í•˜ì‹¤ ìˆ˜ ìˆìœ¼ë©°, ìì„¸í•œ ë¬¸ì˜ëŠ” ê°œë³„ íŒë§¤ìì—ê²Œ ì—°ë½í•˜ì—¬ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                </p>
            </article>

            <!-- ìƒí’ˆ ë¦¬ë·° ë‚´ìš© -->

            <div class="prodReviewBox" id="prodReviewBox">
                <div class="prodReviewHeader">
                    <div>
                        <p class="head" style="font-size: x-large;border-bottom: 1px solid;padding-bottom: 10px">ìƒí’ˆ ë¦¬ë·°
                        </p>
                        <br>

                        <div class="review_head" style="background-color: #f2f2f2;display: flex"
                             th:if="${reviewPage.dtoList.size()}>0">
                            <div style="display: inline-block;padding: 50px 100px; text-align: center">
                                <h3 style="font-size: small;font-weight: bold;padding-bottom: 10px">ì‚¬ìš©ì ì´ í‰ì </h3>
                                <span th:each="starIndex : ${#numbers.sequence(1, reviewRatioDTO.r_avg)}"
                                      style="padding-bottom: 10px">
                                     <!--<i class="fa-solid fa-star" style="font-size: large"></i>-->
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="20"
                                         height="20" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>
                                </span>
                                <h1 th:text="${#numbers.formatDecimal(reviewRatioDTO.avg, 0, 'POINT', 1, 'POINT')}+'/5'"
                                    style="font-size: xx-large">
                                    ì </h1>
                            </div>
                            <div style="display: inline-block;padding: 50px 100px;text-align: center">
                                <p style="font-size: small;font-weight: bold">
                                    ì „ì²´ ë¦¬ë·°ìˆ˜<br>
                                    <i class="fa-regular fa-comment" style="font-size: xx-large"></i><br>
                                    <span th:text="${reviewNum.reviews.size()}" style="font-size: xx-large"></span>
                                </p>
                            </div>
                            <div style="display: inline-block;padding: 50px 100px;">
                                <p style="font-size: small;font-weight: bold;text-align: center">í‰ì  ë¹„ìœ¨</p>
                                <div class="start-container" style="width: 120px; height: 100px;">
                                    <!-- 5ì  -->
                                    <div class="viewR">
                                    <span th:each="starIndex : ${#numbers.sequence(1, 5)}" style="padding-bottom: 10px">
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                         class="bi bi-star-fill" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    </span><span class="viewR-num" th:if="${scoreCountMap != null}" th:text="${scoreCountMap.get(5) != null ? scoreCountMap.get(5) + 'ëª…' : '0ëª…'}"></span>
                                    </div>
                                    <!--4ì -->
                                    <div class="viewR">
                                    <span th:each="starIndex : ${#numbers.sequence(1, 4)}" style="padding-bottom: 10px">
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                         class="bi bi-star-fill" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    </span><span class="viewR-num" th:if="${scoreCountMap != null}" th:text="${scoreCountMap.get(4) != null ? scoreCountMap.get(4) + 'ëª…' : '0ëª…'}"></span>
                                    </div>

                                    <!--3ì -->
                                    <div class="viewR">
                                    <span th:each="starIndex : ${#numbers.sequence(1, 3)}" style="padding-bottom: 10px">
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                         class="bi bi-star-fill" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    </span><span class="viewR-num" th:if="${scoreCountMap != null}" th:text="${scoreCountMap.get(3) != null ? scoreCountMap.get(3) + 'ëª…' : '0ëª…'}"></span>
                                    </div>

                                    <!--2ì -->
                                    <div class="viewR">
                                    <span th:each="starIndex : ${#numbers.sequence(1, 2)}" style="padding-bottom: 10px">
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                         class="bi bi-star-fill" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    </span><span class="viewR-num" th:if="${scoreCountMap != null}" th:text="${scoreCountMap.get(2) != null ? scoreCountMap.get(2) + 'ëª…' : '0ëª…'}"></span>
                                    </div>

                                    <!--1ì  --->
                                    <div class="viewR">
                                    <span th:each="starIndex : ${#numbers.sequence(1, 1)}" style="padding-bottom: 10px">
                                    <svg style="color: #ffd500" xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor"
                                         class="bi bi-star-fill" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>
                                    </span>
                                        <span class="viewR-num" th:if="${scoreCountMap != null}" th:text="${scoreCountMap.get(1) != null ? scoreCountMap.get(1) + 'ëª…' : '0ëª…'}"></span>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div th:if="${reviewPage.dtoList.size()}==0">
                            <span style="font-size: 15px">ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</span>
                        </div>
                    </div>
                </div>

                <ul>
                    <li th:each="review, loop:${reviewPage.dtoList}">
                        <div class="prodReview">
                            <p>
                            <span th:each="starIndex : ${#numbers.sequence(1, review.score)}">
                                <i class="fa-solid fa-star" style="font-size: medium"></i>
                            </span>
                                <span th:text="${review.getScore()}" style="font-weight: bold;font-size: medium"></span><br>
                                <b th:text="${#strings.substring(review.uid, 0, 3) + #strings.repeat('*', #strings.length(review.uid) - 3)}"
                                   style="color: gray"></b>&nbsp;
                                <span th:text="${#temporals.format(review.rdate,'yyyy.MM.dd')}"
                                      style="color: gray">24.03.22</span><br>
                                <span th:text="${review.getProdoption()}" style="color: gray"></span>
                            </p>
                            <div class="reviewContent">
                                <p>[[${review.comment}]]</p>
                                <img th:if="${review.thumbnail} != null" th:src="@{/uploads/__${review.thumbnail}__}"
                                     th:alt="${review.rno}" style="width: 120px; height: 120px ">
                                <img th:if="${review.thumbnail} == null" th:src="@{/uploads/strawberry.png}"
                                     th:alt="${review.rno}" style="width: 120px; height: 120px ">
                            </div>
                        </div>
                    </li>
                </ul>

                <!-- ìƒí’ˆëª©ë¡ í˜ì´ì§€ë²ˆí˜¸ -->
                <div class="paging" style="text-align: center" th:if="${reviewPage.dtoList.size()>0}">
                        <span class="prev" th:if="${reviewPage.prev}">
                            <a class="pagination-link"
                               th:href="@{/product/view(prodno=${product.prodNo}, rpg=${reviewPage.start - 1} ,pg=${prodQna.pg} )}"><&nbsp;ì´ì „</a>
                        </span>
                    <span class="num" th:each="num:${#numbers.sequence(reviewPage.start, reviewPage.end)}">
                            <th:block th:if="${num == reviewPage.rpg}">
                                 <a class="pagination-link"
                                   style="background-color: grey" th:href="@{/product/view( prodno =${reviewPage.getProdno()},rpg=${num}, pg=${prodQna.pg})}">[[${num}]]</a>
                            </th:block>

                            <th:block th:if="${num != reviewPage.rpg}">
                                 <a class="pagination-link"
                                    th:href="@{/product/view(prodno =${reviewPage.getProdno()}, rpg=${num} , pg=${prodQna.pg})}">[[${num}]]</a>
                            </th:block>
                        </span>
                    <span class="next" th:if="${reviewPage.next}">
                            <a class="pagination-link"
                               th:href="@{/product/view(prodno =${reviewPage.getProdno()}, rpg=${reviewPage.end+1} , pg=${prodQna.pg})}">ë‹¤ìŒ&nbsp;></a>
                        </span>
                </div>
            </div>

            <!-- Q&A ë‚´ìš© -->
            <br/><br/>
            <article id="view-qna-article" style="width: 953px; height: 100%; ">
            <div id="view-qna" class="view-qna">
                <div>
                    <div class="product-qna-title1">
                        <strong style="margin-left: 20px; font-weight: 600; font-size: 24px;">Q&A</strong><span>([[${prodQna.total}]])</span>
                        <br/>
                    </div>
                </div>
                <div style="font-size: 14px;" class="product-qna-title">
                    <p class="product-qna-title-1">"ë‹µë³€ì€"
                        <strong style="font-size: 14px; font-weight: 700">ë§ˆì´ë¡¯ë° > ë‚˜ì˜ ë¬¸ì˜ ë‚´ì—­</strong>
                        "ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
                        <button class="product-qna-write" id="openModal">ë¬¸ì˜í•˜ê¸°</button>
                    </p><br/><br/>

                </div>
                <ul>
                    <li>
                        <div class="product-qna-info" style="margin-left: 10px">
                            <span class="">ìƒí’ˆì •ë³´</span>
                            <span > :: [[${product.prodName}]]
                                </span>
                        </div>
                        <div class="product-qna-content">
                            <div>
                                <ul>
                                    <th:block th:if="${prodQna.dtoList4.size()>0}">
                                        <li th:each="prodQnas, index : ${prodQna.dtoList4}" class="product-qna-content-content" style="margin-left: 15px" >
                                            <!-- ë¬¸ì˜ ë‚´ìš© ì¶œë ¥ -->

                                            <th:block th:if="${#authentication.principal != 'anonymousUser'}">
                                                <th:block th:if="${prodQnas.status2 == 'true' && #authentication.principal.user.uid == prodQnas.uid}">
                                            <div class="question">
                                                <span style="font-size: 16px;">Q. </span>
                                                <span style="font-size: 16px;" th:text="${prodQnas.content}"></span>
                                            </div>

                                            <!-- ë‹µë³€ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë‹µë³€ ì¶œë ¥ -->
                                            <div th:if="${prodQnas.answer != null}" class="answer">
                                                <span style="font-size: 16px;">A. </span>
                                                <span style="font-size: 16px;" th:text="${prodQnas.answer}"></span>
                                            </div>
                                            <!-- ë‹µë³€ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” "ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤." ì¶œë ¥ -->
                                            <div style="font-size: 16px;" th:unless="${prodQnas.answer != null}" class="no-answer">
                                                <span style="font-size: 16px;">A. </span>
                                                ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
                                            </div>
                                                </th:block>

                                                <th:block th:if="${prodQnas.status2 == 'true' && #authentication.principal.user.uid != prodQnas.uid}">
                                                    <div class="question">
                                                        <span style="font-size: 16px;">Q. </span>
                                                        <span style="font-size: 16px;" >ë¹„ë°€ ê¸€ì…ë‹ˆë‹¤.</span>
                                                    </div>
                                                    <!-- ë‹µë³€ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë‹µë³€ ì¶œë ¥ -->
                                                    <div th:if="${prodQnas.answer != null}" class="answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        <span style="font-size: 16px;" >ë¹„ë°€ ë‹µë³€ì…ë‹ˆë‹¤.</span>
                                                    </div>

                                                </th:block>

                                                <th:block th:if="${prodQnas.status2 == 'false'}">
                                                    <div class="question">
                                                        <span style="font-size: 16px;">Q. </span>
                                                        <span style="font-size: 16px;" th:text="${prodQnas.content}"></span>
                                                    </div>

                                                    <!-- ë‹µë³€ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë‹µë³€ ì¶œë ¥ -->
                                                    <div th:if="${prodQnas.answer != null}" class="answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        <span style="font-size: 16px;" th:text="${prodQnas.answer}"></span>
                                                    </div>
                                                    <!-- ë‹µë³€ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” "ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤." ì¶œë ¥ -->
                                                    <div style="font-size: 16px;" th:unless="${prodQnas.answer != null}" class="no-answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
                                                    </div>
                                                </th:block>

                                            </th:block>

                                            <th:block th:if="${#authentication.principal == 'anonymousUser'}">

                                                <th:block th:if="${prodQnas.status2 == 'true' }">
                                                    <div class="question">
                                                        <span style="font-size: 16px;">Q. </span>
                                                        <span style="font-size: 16px;"> ë¹„ë°€ ê¸€ì…ë‹ˆë‹¤.</span>
                                                    </div>
                                                    <!-- ë‹µë³€ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë‹µë³€ ì¶œë ¥ -->
                                                    <div th:if="${prodQnas.answer != null}" class="answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        <span style="font-size: 16px;" > ë¹„ë°€ ë‹µë³€ì…ë‹ˆë‹¤.</span>
                                                    </div>

                                                </th:block>

                                                <th:block th:if="${prodQnas.status2 == 'false'}">
                                                    <div class="question">
                                                        <span style="font-size: 16px;">Q. </span>
                                                        <span style="font-size: 16px;" th:text="${prodQnas.content}"></span>
                                                    </div>

                                                    <!-- ë‹µë³€ì´ ìˆëŠ” ê²½ìš°ì—ë§Œ ë‹µë³€ ì¶œë ¥ -->
                                                    <div th:if="${prodQnas.answer != null}" class="answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        <span style="font-size: 16px;" th:text="${prodQnas.answer}"></span>
                                                    </div>
                                                    <!-- ë‹µë³€ì´ ì—†ëŠ” ê²½ìš°ì—ëŠ” "ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤." ì¶œë ¥ -->
                                                    <div style="font-size: 16px;" th:unless="${prodQnas.answer != null}" class="no-answer">
                                                        <span style="font-size: 16px;">A. </span>
                                                        ì•„ì§ ë‹µë³€ì´ ë‹¬ë¦¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
                                                    </div>
                                                </th:block>

                                            </th:block>

                                        </li>
                                    </th:block>
                                    <th:block th:if="${prodQna.dtoList4.size()==0}">
                                        <span style="font-size: 15px; margin-left: 15px">ë¬¸ì˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                                    </th:block>

                                </ul>
                            </div>
                        </div>
                        <!-- ìƒí’ˆëª©ë¡ í˜ì´ì§€ë²ˆí˜¸ -->
                        <div class="paging" style="text-align: center" th:if="${prodQna.dtoList4.size()>0}">
                        <span class="prev" th:if="${prodQna.prev}">
                            <a class="pagination-link"
                               th:href="@{/product/view(prodno=${reviewPage.prodno}, pg=${prodQna.start - 1} , rpg=${reviewPage.rpg} )}"><&nbsp;ì´ì „</a>
                        </span>
                            <span class="num" th:each="num:${#numbers.sequence(prodQna.start, prodQna.end)}">
                            <th:block th:if="${num == prodQna.pg}" >
                                 <a class="pagination-link"
                                    th:href="@{/product/view( prodno =${reviewPage.getProdno()},pg=${num} , rpg=${reviewPage.rpg} )}" style="background-color: grey">[[${num}]]</a>
                            </th:block>

                            <th:block th:if="${num != prodQna.pg}">
                                 <a class="pagination-link"
                                    th:href="@{/product/view(prodno =${reviewPage.getProdno()}, pg=${num} , rpg=${reviewPage.rpg} )}">[[${num}]]</a>
                            </th:block>
                        </span>
                            <span class="next" th:if="${prodQna.next}">
                            <a class="pagination-link"
                               th:href="@{/product/view(prodno =${reviewPage.getProdno()}, pg=${prodQna.end+1} , rpg=${reviewPage.rpg}  )}">ë‹¤ìŒ&nbsp;></a>
                        </span>
                        </div>


                        <br>
                        <br>
                    </li>
                </ul>
            </div>
            </article>

            <!-- QNA ëª¨ë‹¬ -->
            <div id="qnaModal" class="qna-modal">
                <!-- ëª¨ë‹¬ ë‚´ìš© -->
                <div class="qna-modal-content">
                    <h2 class="qna-modal-content-h2">
                        <span class="qna-modal-content-title" id = "qna-modal-content-title" >ë¬¸ì˜í•˜ê¸°</span>
                    </h2>
                    <div class="qna-modal-btnWrap">
                        <div class="qna-modal-btnItem">
                            <span>
                                <button id="openProductInquiryModal" class="qna-modal-btnLink">ìƒí’ˆ ë¬¸ì˜</button>
                            </span>
                        </div>
                        <div>
                            <span>
                                <a th:href="@{/cs}" class="qna-modal-btnLink">ê³ ê° ì„¼í„° ë©”ì¸</a>
                            </span>
                        </div>
                    </div>
                    <!-- ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ -->
                    <span class="qna-modal-close">&times;</span>
                </div>
            </div>

            <!-- ìƒí’ˆ ë¬¸ì˜ ëª¨ë‹¬ -->
            <div id="productInquiryModal" class="qna-modal">
                <div class="qna-modal-content">
                    <!-- ìƒí’ˆ ì •ë³´ -->
                    <h2 class="qna-modal-content-h2">
                        <span class="qna-modal-content-title">ìƒí’ˆ ë¬¸ì˜</span>
                    </h2>
                    <div class="qna-modal-product-info">
                        <span>
                            <p> ìƒí’ˆ ì •ë³´ </p>
                            <div class="qna-modal-thumb">
                            <img th:src="@{/uploads/__${product.image2}__}" alt="t1"/>
                            </div>
                            <div class="qna-modal-price">
                                <p>ìƒí’ˆëª…</p>
                                <h2 class="product-name">[[${product.prodName}]]</h2>
                                <p>ìƒí’ˆ ê°€ê²©</p>
                                <th:block th:if="${product.prodDiscount != 0}">
                                <div class="qna-modal-org_price">
                                    <del>[[${product.prodPrice}]]</del>
                                    <span>[[${product.prodDiscount}]]</span>
                                </div>
                                <div class="qna-modal-dis_price">
                                    <ins>[[${#numbers.formatDecimal(product.prodPrice * (100 - product.prodDiscount) * 0.01,
                                        1,0 )}]]
                                    </ins>
                                    <span class="free" th:if="${product.delivery == 0}">ë¬´ë£Œë°°ì†¡</span>
                                </div>
                                </th:block>
                            <th:block th:if="${product.prodDiscount == 0}">
                                <div class="qna-modal-dis_price">
                                    <ins>[[${#numbers.formatDecimal(product.prodPrice * (100 - product.prodDiscount) * 0.01,
                                        1,0 )}]]
                                    </ins>
                                    <span class="free" th:if="${product.delivery == 0}">ë¬´ë£Œë°°ì†¡</span>
                                </div>
                            </th:block>
                            </div>
                        </span>
                    </div>
                    <!-- ìƒí’ˆ ë¬¸ì˜ ë‚´ìš© ì…ë ¥ í¼ -->
                    <div class="product-inquiry-form">
                        <div>
                        <span>
                              <h2>>ë¬¸ì˜ìœ í˜•</h2>
                              <select class="product-inquiry-select" name="cate">
                                <option value="#">ë¬¸ì˜ìœ í˜• ì„ íƒ</option>
                                <option value="info">ìƒí’ˆì •ë³´</option>
                                <option value="size">ì‚¬ì´ì¦ˆ/ìš©ëŸ‰</option>
                                <option value="use">ì‚¬ìš©ì„¤ëª…</option>
                                <option value="color">ë””ìì¸/ìƒ‰ìƒ</option>
                                <option value="etc">ê¸°íƒ€</option>
                              </select>
                        </span>
                        </div>
                        <div>
                            <span>
                                <h2>>ë¬¸ì˜ë‚´ìš©</h2>
                                <textarea name="content" class="qna-product-textarea" placeholder="ìµœì†Œ 10ì ì´ìƒ ì…ë ¥í•´ ì£¼ì„¸ìš”. ì—°ë½ì²˜, ì£¼ë¯¼ë²ˆí˜¸ ë“± ê°œì¸ì •ë³´ ê¸°ì…ì€ ì‚¼ê°€ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ê°œì¸ì •ë³´ í¬í•¨ ì‹œ ì„ì˜ë¡œ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."></textarea>
                            </span>
                        </div>
                        <div>
                            <p>ë¹„ë°€ê¸€</p><input name="status2" type="checkbox" />

                            <th:block th:if="${#authentication.principal != 'anonymousUser'}">
                            <input type="hidden" id="questionId" th:value="${#authentication.principal.user.uid}">
                            </th:block>

                        </div>
                        <div class="qna-product-btnWrap">
                            <div class="qna-product-btnItem">
                                <span>
                                    <a class="qna-product-btnLink-cancel">ì·¨ì†Œ</a>
                                </span>
                            </div>
                            <div>
                                <span>
                                    <a class="qna-product-btnLink" th:data-sellerUid="${product.sellerUid}">í™•ì¸</a>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ -->
                    <span class="qna-modal-close">&times;</span>
                </div>
            </div>
        </section>
        <!-- ìƒí’ˆ ìƒì„¸í˜ì´ì§€ ë -->
    </main>
</div>
</html>